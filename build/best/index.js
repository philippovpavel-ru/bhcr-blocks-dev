(()=>{"use strict";const e=window.wp.blocks,s=window.wp.blockEditor,t=window.wp.components,n=window.wp.data,i=window.wp.element,a=window.ReactJSXRuntime;(0,e.registerBlockType)("snd/best",{edit:function({attributes:e,setAttributes:l,clientId:o}){const{hideCount:r,isProduct:d,count:c,title:h,description:x,link:u}=e,g=(e,s)=>{l({[e]:s})},p=(0,n.useSelect)((e=>e(s.store).getBlockOrder(o).length),[o]);return(0,i.useEffect)((()=>{c!==p&&l({count:p})}),[p]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.InspectorControls,{children:(0,a.jsxs)(t.PanelBody,{title:"Settings",children:[(0,a.jsx)(t.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Hide Count",checked:r,help:r?"Hide":`Show (${c})`,onChange:()=>l({hideCount:!r})}),(0,a.jsx)(t.ToggleControl,{__nextHasNoMarginBottom:!0,label:"This is Product Card",checked:d,onChange:()=>l({isProduct:!d})}),(0,a.jsx)("hr",{}),(0,a.jsx)("h2",{children:"Link"}),(0,a.jsx)(t.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Show link",checked:u.show,onChange:()=>l({link:{...u,show:!u.show}})}),(0,a.jsx)(t.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Open new tab",checked:u.target,onChange:()=>l({link:{...u,target:!u.target}})}),(0,a.jsx)(t.TextControl,{__nextHasNoMarginBottom:!0,type:"url",label:"Link URL",value:u.url,onChange:e=>l({link:{...u,url:e}})}),(0,a.jsx)(t.TextControl,{__nextHasNoMarginBottom:!0,label:"Link Title",value:u.title,onChange:e=>l({link:{...u,title:e}})})]})}),(0,a.jsx)("section",{...(0,s.useBlockProps)({className:"sd-best "+(d?"sd-complite-slider":"")}),children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)("div",{className:"sd-best__header",children:[(0,a.jsx)(s.RichText,{tagName:"h2",value:h||"",onChange:e=>g("title",e)}),u.show&&(0,a.jsx)(s.RichText,{tagName:"a",href:"#",target:u.target?"_blank":"_self",value:u.title||"",onChange:e=>l({link:{...u,title:e}})})]}),(0,a.jsxs)("div",{className:"sd-best__slider",children:[(0,a.jsx)("div",{className:"sd-best__slider-header",children:(0,a.jsx)(s.RichText,{tagName:"h3",value:x||"",onChange:e=>g("description",e)})}),(0,a.jsx)("div",{className:"swiper swiper-best",children:(0,a.jsx)("div",{className:"swiper-wrapper",children:(0,a.jsx)(s.InnerBlocks,{allowedBlocks:["snd/best-product-card"],orientation:"horizontal",template:[["snd/best-product-card"],["snd/best-product-card"],["snd/best-product-card"],["snd/best-product-card"]]})})})]})]})})]})},save:function({attributes:e}){const{hideCount:t,isProduct:n,count:i,title:l,description:o,link:r}=e,d=t?"":` <span>(${i})</span>`;return(0,a.jsx)("section",{...s.useBlockProps.save({className:"sd-best "+(n?"sd-complite-slider":"")}),children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)("div",{className:"sd-best__header",children:[l&&(0,a.jsx)(s.RichText.Content,{tagName:"h2",value:`${l+d}`}),r.show&&r.url&&(0,a.jsx)(s.RichText.Content,{tagName:"a",href:r.url,target:r.target?"_blank":"_self",value:r.title+" â†’"})]}),(0,a.jsxs)("div",{className:"sd-best__slider",children:[(0,a.jsxs)("div",{className:"sd-best__slider-header",children:[o&&(0,a.jsx)(s.RichText.Content,{tagName:"h3",value:o}),(0,a.jsxs)("div",{className:"sd-best__slider-buttons",children:[(0,a.jsx)("div",{className:"swiper-button-prev-best"}),(0,a.jsx)("div",{className:"swiper-button-next-best"})]})]}),(0,a.jsx)("div",{className:"swiper swiper-best",children:(0,a.jsx)("div",{className:"swiper-wrapper",children:(0,a.jsx)(s.InnerBlocks.Content,{})})})]})]})})}})})();