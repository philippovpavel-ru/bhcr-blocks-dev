(()=>{"use strict";const e=window.wp.blocks,s=window.wp.blockEditor,t=window.wp.components,n=window.wp.data,l=window.wp.element,i=window.ReactJSXRuntime;(0,e.registerBlockType)("snd/best",{edit:function({attributes:e,setAttributes:a,clientId:o}){const{hideCount:r,isProduct:d,count:c,title:h,description:x,link:u}=e,p=(e,s)=>{a({[e]:s})},g=(0,n.useSelect)((e=>e(s.store).getBlockOrder(o).length),[o]);return(0,l.useEffect)((()=>{c!==g&&a({count:g})}),[g]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.InspectorControls,{children:(0,i.jsxs)(t.PanelBody,{title:"Settings",children:[(0,i.jsx)(t.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Hide Count",checked:r,help:r?"Hide":`Show (${c})`,onChange:()=>a({hideCount:!r})}),(0,i.jsx)(t.ToggleControl,{__nextHasNoMarginBottom:!0,label:"This is Product Card",checked:d,onChange:()=>a({isProduct:!d})}),(0,i.jsx)("hr",{}),(0,i.jsx)("h2",{children:"Link"}),(0,i.jsx)(t.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Show link",checked:u.show,onChange:()=>a({link:{...u,show:!u.show}})}),(0,i.jsx)(t.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Open new tab",checked:u.target,onChange:()=>a({link:{...u,target:!u.target}})}),(0,i.jsx)(t.TextControl,{__nextHasNoMarginBottom:!0,type:"url",label:"Link URL",value:u.url,onChange:e=>a({link:{...u,url:e}})}),(0,i.jsx)(t.TextControl,{__nextHasNoMarginBottom:!0,label:"Link Title",value:u.title,onChange:e=>a({link:{...u,title:e}})})]})}),(0,i.jsx)("section",{...(0,s.useBlockProps)({className:"sd-best "+(d?"sd-complite-slider":"")}),children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsxs)("div",{className:"sd-best__header",children:[(0,i.jsx)(s.RichText,{tagName:"h2",value:h||"",placeholder:"Title",onChange:e=>p("title",e)}),u.show&&(0,i.jsx)(s.RichText,{tagName:"a",href:"#",target:u.target?"_blank":"_self",value:u.title||"",placeholder:"Link Title",style:u.url?{}:{opacity:".5"},onChange:e=>a({link:{...u,title:e}})})]}),(0,i.jsxs)("div",{className:"sd-best__slider",children:[(0,i.jsx)("div",{className:"sd-best__slider-header",children:(0,i.jsx)(s.RichText,{tagName:"h3",value:x||"",placeholder:"Description",onChange:e=>p("description",e)})}),(0,i.jsx)("div",{className:"swiper swiper-best",children:(0,i.jsx)("div",{className:"swiper-wrapper",children:(0,i.jsx)(s.InnerBlocks,{allowedBlocks:["snd/best-product-card"],orientation:"horizontal",template:[["snd/best-product-card"],["snd/best-product-card"],["snd/best-product-card"],["snd/best-product-card"]]})})})]})]})})]})},save:function({attributes:e}){const{hideCount:t,isProduct:n,count:l,title:a,description:o,link:r}=e,d=t?"":` <span>(${l})</span>`;return(0,i.jsx)("section",{...s.useBlockProps.save({className:"sd-best "+(n?"sd-complite-slider":"")}),children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsxs)("div",{className:"sd-best__header",children:[a&&(0,i.jsx)(s.RichText.Content,{tagName:"h2",value:`${a+d}`}),r.show&&r.url&&(0,i.jsx)(s.RichText.Content,{tagName:"a",href:r.url,target:r.target?"_blank":"_self",value:r.title+" â†’"})]}),(0,i.jsxs)("div",{className:"sd-best__slider",children:[(0,i.jsxs)("div",{className:"sd-best__slider-header",children:[o&&(0,i.jsx)(s.RichText.Content,{tagName:"h3",value:o}),(0,i.jsxs)("div",{className:"sd-best__slider-buttons",children:[(0,i.jsx)("div",{className:"swiper-button-prev-best"}),(0,i.jsx)("div",{className:"swiper-button-next-best"})]})]}),(0,i.jsx)("div",{className:"swiper swiper-best",children:(0,i.jsx)("div",{className:"swiper-wrapper",children:(0,i.jsx)(s.InnerBlocks.Content,{})})})]})]})})}})})();